{"is_source_file": true, "format": "JavaScript", "description": "This file defines a JavaScript module providing CRUD services for managing expense data, including normalization, validation, and storage handling. It includes functions to list, retrieve, create, update, delete, and replace expense records, and relies on external storage helpers.", "external_files": ["./storage"], "external_methods": ["getAll", "setAll", "addItem", "updateItem", "removeItem"], "published": ["listExpenses", "getById", "create", "update", "remove", "replaceAll", "helpers"], "classes": [], "methods": [{"name": "normalizeExpense(raw)", "description": "Normalizes an expense object into a JSON-safe format with proper types for date, amount, tags, and strings.", "scope": "", "scopeKind": ""}, {"name": "validateExpense(expense)", "description": "Validates that an expense object has required fields with correct types and formats, throwing errors if invalid.", "scope": "", "scopeKind": ""}, {"name": "generateId()", "description": "Generates a simple unique identifier for expenses.", "scope": "", "scopeKind": ""}, {"name": "listExpenses()", "description": "Asynchronously retrieves all expenses from storage, returning them normalized.", "scope": "", "scopeKind": ""}, {"name": "getById(id)", "description": "Asynchronously retrieves a single expense by its id, returning normalized data.", "scope": "", "scopeKind": ""}, {"name": "create(expense)", "description": "Creates a new expense record after normalization and validation, assigning an id if missing.", "scope": "", "scopeKind": ""}, {"name": "update(id, partial)", "description": "Updates an existing expense identified by id with partial data, validating the result.", "scope": "", "scopeKind": ""}, {"name": "remove(id)", "description": "Removes an expense record by id, returning true if successful.", "scope": "", "scopeKind": ""}, {"name": "replaceAll(expenses)", "description": "Replaces the entire list of expenses with a new array after validation and normalization.", "scope": "", "scopeKind": ""}], "calls": ["getAll(StorageKeys.EXPENSES)", "addItem(StorageKeys.EXPENSES, normalized)", "updateItem(StorageKeys.EXPENSES, (e) => e.id === id, () => normalized)", "removeItem(StorageKeys.EXPENSES, (e) => e.id === id)", "setAll(StorageKeys.EXPENSES, normalized)"], "search-terms": ["expenses CRUD", "normalizeExpense", "validateExpense", "expensesService.js", "storage helpers"], "state": 2, "file_id": 14, "knowledge_revision": 51, "git_revision": "82f8d0b293a4cd8e82e95b687dfddb912354bd65", "revision_history": [{"29": ""}, {"51": "82f8d0b293a4cd8e82e95b687dfddb912354bd65"}], "ctags": [{"_type": "tag", "name": "create", "path": "/home/kavia/workspace/code-generation/expense-tracker-and-manager-8204-8213/expense_tracker_frontend/src/services/expensesService.js", "pattern": "/^export async function create(expense) {$/", "language": "JavaScript", "kind": "function", "signature": "(expense)"}, {"_type": "tag", "name": "generateId", "path": "/home/kavia/workspace/code-generation/expense-tracker-and-manager-8204-8213/expense_tracker_frontend/src/services/expensesService.js", "pattern": "/^  generateId,$/", "language": "JavaScript", "kind": "field", "scope": "helpers", "scopeKind": "class"}, {"_type": "tag", "name": "generateId", "path": "/home/kavia/workspace/code-generation/expense-tracker-and-manager-8204-8213/expense_tracker_frontend/src/services/expensesService.js", "pattern": "/^function generateId() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getById", "path": "/home/kavia/workspace/code-generation/expense-tracker-and-manager-8204-8213/expense_tracker_frontend/src/services/expensesService.js", "pattern": "/^export async function getById(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "helpers", "path": "/home/kavia/workspace/code-generation/expense-tracker-and-manager-8204-8213/expense_tracker_frontend/src/services/expensesService.js", "pattern": "/^export const helpers = {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "listExpenses", "path": "/home/kavia/workspace/code-generation/expense-tracker-and-manager-8204-8213/expense_tracker_frontend/src/services/expensesService.js", "pattern": "/^export async function listExpenses() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "normalizeExpense", "path": "/home/kavia/workspace/code-generation/expense-tracker-and-manager-8204-8213/expense_tracker_frontend/src/services/expensesService.js", "pattern": "/^function normalizeExpense(raw) {$/", "language": "JavaScript", "kind": "function", "signature": "(raw)"}, {"_type": "tag", "name": "remove", "path": "/home/kavia/workspace/code-generation/expense-tracker-and-manager-8204-8213/expense_tracker_frontend/src/services/expensesService.js", "pattern": "/^export async function remove(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "replaceAll", "path": "/home/kavia/workspace/code-generation/expense-tracker-and-manager-8204-8213/expense_tracker_frontend/src/services/expensesService.js", "pattern": "/^export async function replaceAll(expenses) {$/", "language": "JavaScript", "kind": "function", "signature": "(expenses)"}, {"_type": "tag", "name": "update", "path": "/home/kavia/workspace/code-generation/expense-tracker-and-manager-8204-8213/expense_tracker_frontend/src/services/expensesService.js", "pattern": "/^export async function update(id, partial) {$/", "language": "JavaScript", "kind": "function", "signature": "(id, partial)"}, {"_type": "tag", "name": "validateExpense", "path": "/home/kavia/workspace/code-generation/expense-tracker-and-manager-8204-8213/expense_tracker_frontend/src/services/expensesService.js", "pattern": "/^function validateExpense(expense) {$/", "language": "JavaScript", "kind": "function", "signature": "(expense)"}], "hash": "fedbaa8173a0bd7e7711408973370d17", "format-version": 4, "code-base-name": "expense_tracker_frontend", "filename": "expense_tracker_frontend/src/services/expensesService.js", "fields": [{"name": "generateId,", "scope": "helpers", "scopeKind": "class", "description": "unavailable"}]}